<!DOCTYPE html>
<html>
  <head>
    <title>Mongo.Collection</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

    <script type="text/javascript" charset="utf-8">
      relpath = '';
      if (relpath != '') relpath += '/';
    </script>

    <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/app.js"></script>
  </head>

  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>

    <div id="content">
      <div class="breadcrumbs">mongo v0.3.1 &rarr; <a href="overview.html">Overview</a> &rarr; <a href="Mongo.html">Mongo</a> &rarr; <a href="Mongo.Collection.html">Collection</a></div>

      <h1>
        Mongo.Collection
        
      </h1>

      <ul class="summary_links">
        
          <li><a href="#summary">Summary</a></li>
        
        
          <li><a href="#functions_details">Functions</a></li>
        
        
        
        
      </ul>

      
        <div id="moduledoc" class="docstring">
          <p>Module holding operations that can be performed on a collection (find, countâ€¦)</p>
<p>Example:</p>
<pre><code>db = Mongo.connect.db(&quot;test&quot;)
anycoll = db.collection(&quot;anycoll&quot;)
anycoll.count()</code></pre>
<p><code class="inline">count()</code> or <code class="inline">count!()</code></p>
<p>The first returns <code class="inline">{:ok, value}</code>, the second returns simply <code class="inline">value</code>.
In case of error, the first returns <code class="inline">{:error, reason}</code> the second raises an exception.</p>
<pre><code>iex&gt; anycoll.count()
{:ok, 6.0}
iex&gt; anycoll.count!()
6.0
iex&gt; anycoll.count(a: ['$in': [1,3]])
{:ok, 2.0}
iex&gt; anycoll.count(a: ['$in': 1]) # $in should take a list
{:error, [errmsg: &quot;exception: invalid query&quot;, code: 12580, ok: 0.0]}
iex&gt; anycoll.count!(a: ['$in': 1])
** (Mongo.Error) [errmsg: &quot;exception: invalid query&quot;, code: 12580, ok: 0.0]</code></pre>

        </div>
      

      
        <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L1" class="view_source">Source</a>
      

      
        <h2 id="summary">Summary<div class="detail_header_links"><a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a></div></h2>
        <table class="summary">
          <tr>
  <td class="summary_signature"><a href="#aggregate!/2">aggregate!(pipeline, collection)</a></td>
  
    <td class="summary_synopsis"><p>See aggregate/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#aggregate/2">aggregate(pipeline, arg2)</a></td>
  
    <td class="summary_synopsis"><p>Calculates aggregate values for the data in the collection (see db.collection.aggregate)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#count!/1">count!(collection)</a></td>
  
    <td class="summary_synopsis"><p>See count/1</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#count!/2">count!(query, collection)</a></td>
  
    <td class="summary_synopsis"><p>See count/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#count!/3">count!(query, skip_limit, collection)</a></td>
  
    <td class="summary_synopsis"><p>See count/3</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#count/3">count(query \\ %{}, skip_limit \\ %{}, arg3)</a></td>
  
    <td class="summary_synopsis"><p>Count documents in the collection (see db.collection.count)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#createIndex/4">createIndex(name, key, unique \\ false, arg4)</a></td>
  
    <td class="summary_synopsis"><p>Creates an index for the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#db/1">db(arg1)</a></td>
  
    <td class="summary_synopsis"><p>Returns the db of the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#delete/3">delete(query, justOne \\ false, collection)</a></td>
  
    <td class="summary_synopsis"><p>Removes an existing document or documents in the collection (see db.collection.remove)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#distinct!/2">distinct!(key, collection)</a></td>
  
    <td class="summary_synopsis"><p>See distinct/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#distinct!/3">distinct!(key, query, collection)</a></td>
  
    <td class="summary_synopsis"><p>See distinct/3</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#distinct/3">distinct(key, query \\ %{}, arg3)</a></td>
  
    <td class="summary_synopsis"><p>Finds the distinct values for a specified field across a single collection (see db.collection.distinct)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#drop!/1">drop!(collection)</a></td>
  
    <td class="summary_synopsis"><p>See drop/1</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#drop/1">drop(arg1)</a></td>
  
    <td class="summary_synopsis"><p>Drops the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#find/3">find(criteria \\ %{}, projection \\ %{}, collection)</a></td>
  
    <td class="summary_synopsis"><p>Runs db.find() for a given query and returns a <a href="Mongo.Cursor.html"><code class="inline">Mongo.Cursor</code></a></p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#group!/2">group!(key, collection)</a></td>
  
    <td class="summary_synopsis"><p>See group/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#group!/3">group!(key, reduce, collection)</a></td>
  
    <td class="summary_synopsis"><p>See group/3</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#group!/4">group!(key, reduce, initial, collection)</a></td>
  
    <td class="summary_synopsis"><p>See group/4</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#group!/5">group!(key, reduce, initial, params, collection)</a></td>
  
    <td class="summary_synopsis"><p>See group/5</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#group/5">group(key, reduce \\ &quot;function(k, vs){return Array.sum(vs)}&quot;, initial \\ %{}, params \\ %{}, arg5)</a></td>
  
    <td class="summary_synopsis"><p>Groups documents in the collection by the specified key (see db.collection.group)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#insert!/2">insert!(docs, collection)</a></td>
  
    <td class="summary_synopsis"><p>See insert/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#insert/2">insert(docs, collection)</a></td>
  
    <td class="summary_synopsis"><p>Insert a list of documents into the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#insert_one!/2">insert_one!(docs, collection)</a></td>
  
    <td class="summary_synopsis"><p>See insert_one/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#insert_one/2">insert_one(doc, collection)</a></td>
  
    <td class="summary_synopsis"><p>Insert one document into the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#mr!/2">mr!(map, collection)</a></td>
  
    <td class="summary_synopsis"><p>See mr/2</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#mr!/3">mr!(map, reduce, collection)</a></td>
  
    <td class="summary_synopsis"><p>See mr/3</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#mr!/4">mr!(map, reduce, out, collection)</a></td>
  
    <td class="summary_synopsis"><p>See mr/4</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#mr!/5">mr!(map, reduce, out, more, collection)</a></td>
  
    <td class="summary_synopsis"><p>See mr/5</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#mr/5">mr(map, reduce \\ &quot;function(k, vs){return Array.sum(vs)}&quot;, out \\ %{inline: true}, params \\ %{}, arg5)</a></td>
  
    <td class="summary_synopsis"><p>Provides a wrapper around the mapReduce command (db.collection.mapReduce)</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#name/1">name(arg1)</a></td>
  
    <td class="summary_synopsis"><p>Gets the collection name</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#new/2">new(db, collname)</a></td>
  
    <td class="summary_synopsis"><p>New collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#opts/2">opts(new_opts, c)</a></td>
  
    <td class="summary_synopsis"><p>Adds options to the collection overwriting database options</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#read_opts/1">read_opts(arg1)</a></td>
  
    <td class="summary_synopsis"><p>Gets read default options</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#update/5">update(query, update, upsert \\ false, multi \\ false, collection)</a></td>
  
    <td class="summary_synopsis"><p>Modifies an existing document or documents in the collection</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#write_opts/1">write_opts(arg1)</a></td>
  
    <td class="summary_synopsis"><p>Gets write default options</p>
</td>
  
</tr>

        </table>
      

      

      
        <div id="functions_details" class="details_list">
          <h2>Functions</h2>
          <div class="detail">
  <div class="detail_header" id="aggregate/2">
    <span class="signature"><strong>aggregate(pipeline, arg2)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#aggregate/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Calculates aggregate values for the data in the collection (see db.collection.aggregate)</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection.aggregate([
  %{'$skip': 1}, 
  %{'$limit': 5}, 
  %{'$project': %{'_id': false, value: true}}
])</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L241" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="aggregate!/2">
    <span class="signature"><strong>aggregate!(pipeline, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#aggregate!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See aggregate/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L248" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="count/3">
    <span class="signature"><strong>count(query \\ %{}, skip_limit \\ %{}, arg3)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#count/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Count documents in the collection (see db.collection.count)</p>
<p>Returns <code class="inline">{:ok, n}</code>, the result of count, or <code class="inline">{:error, reason}</code></p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
{:ok, n} = db.collection.count(%{value: %{'$gt': 0}})</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L147" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="count!/1">
    <span class="signature"><strong>count!(collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#count!/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See count/1</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L155" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="count!/2">
    <span class="signature"><strong>count!(query, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#count!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See count/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L156" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="count!/3">
    <span class="signature"><strong>count!(query, skip_limit, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#count!/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See count/3</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L157" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="createIndex/4">
    <span class="signature"><strong>createIndex(name, key, unique \\ false, arg4)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#createIndex/4" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Creates an index for the collection</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L285" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="db/1">
    <span class="signature"><strong>db(arg1)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#db/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Returns the db of the collection</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L280" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="delete/3">
    <span class="signature"><strong>delete(query, justOne \\ false, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#delete/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Removes an existing document or documents in the collection (see db.collection.remove)</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection(&quot;anycoll&quot;).remove(%{b: 789})</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L131" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="distinct/3">
    <span class="signature"><strong>distinct(key, query \\ %{}, arg3)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#distinct/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Finds the distinct values for a specified field across a single collection (see db.collection.distinct)</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection.distinct(&quot;value&quot;, %{value: %{&quot;$gt&quot;: 3}})</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L165" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="distinct!/2">
    <span class="signature"><strong>distinct!(key, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#distinct!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See distinct/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L172" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="distinct!/3">
    <span class="signature"><strong>distinct!(key, query, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#distinct!/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See distinct/3</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L173" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="drop/1">
    <span class="signature"><strong>drop(arg1)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#drop/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Drops the collection </p>
<p>returns <code class="inline">:ok</code> or a string containing the error message</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L221" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="drop!/1">
    <span class="signature"><strong>drop!(collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#drop!/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See drop/1</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L229" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="find/3">
    <span class="signature"><strong>find(criteria \\ %{}, projection \\ %{}, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#find/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Runs db.find() for a given query and returns a <a href="Mongo.Cursor.html"><code class="inline">Mongo.Cursor</code></a></p>
<pre><code>mongo.connect.db(&quot;test&quot;).collection(&quot;anycoll&quot;).find().toArray()</code></pre>
<p>For a limited number of documents, <code class="inline">Mongo.Cursor.toArray</code> returns the complete list of documents.
See <a href="Mongo.Cursor.html"><code class="inline">Mongo.Cursor</code></a> for more detail on other options to retreive documents.</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L61" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="group/5">
    <span class="signature"><strong>group(key, reduce \\ &quot;function(k, vs){return Array.sum(vs)}&quot;, initial \\ %{}, params \\ %{}, arg5)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#group/5" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Groups documents in the collection by the specified key (see db.collection.group)</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection.group(%{a: true})</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L202" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="group!/2">
    <span class="signature"><strong>group!(key, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#group!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See group/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L211" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="group!/3">
    <span class="signature"><strong>group!(key, reduce, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#group!/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See group/3</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L212" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="group!/4">
    <span class="signature"><strong>group!(key, reduce, initial, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#group!/4" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See group/4</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L213" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="group!/5">
    <span class="signature"><strong>group!(key, reduce, initial, params, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#group!/5" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See group/5</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L214" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="insert/2">
    <span class="signature"><strong>insert(docs, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#insert/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Insert a list of documents into the collection</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
[%{a: 23}, %{a: 24, b: 1}] |&gt; 
db.collection(&quot;anycoll&quot;).insert</code></pre>
<p>If you need object ID to be added to your documents, you can run</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
[%{a: 23}, %{a: 24, b: 1}] |&gt; Mongo.assign_id
db.collection(&quot;anycoll&quot;).insert</code></pre>
<p><code class="inline">Mongo.Collection.insert</code> returns the list of documents it received.</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L99" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="insert!/2">
    <span class="signature"><strong>insert!(docs, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#insert!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See insert/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L109" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="insert_one/2">
    <span class="signature"><strong>insert_one(doc, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#insert_one/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Insert one document into the collection</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
%{a: 23} |&gt; 
db.collection(&quot;anycoll&quot;).insert_one</code></pre>
<p><code class="inline">Mongo.Collection.insert_one</code> returns the document it received.</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L75" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="insert_one!/2">
    <span class="signature"><strong>insert_one!(docs, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#insert_one!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See insert_one/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L81" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="mr/5">
    <span class="signature"><strong>mr(map, reduce \\ &quot;function(k, vs){return Array.sum(vs)}&quot;, out \\ %{inline: true}, params \\ %{}, arg5)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#mr/5" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Provides a wrapper around the mapReduce command (db.collection.mapReduce)</p>
<p>Returns  <code class="inline">:ok</code> or an array of documents (inline). <code class="inline">:out</code> option is set to inline by default.</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection.mr(&quot;function(d){emit(this._id, this.value*2)}&quot;, &quot;function(k, vs){return Array.sum(vs)}&quot;)</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L183" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="mr!/2">
    <span class="signature"><strong>mr!(map, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#mr!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See mr/2</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L191" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="mr!/3">
    <span class="signature"><strong>mr!(map, reduce, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#mr!/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See mr/3</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L192" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="mr!/4">
    <span class="signature"><strong>mr!(map, reduce, out, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#mr!/4" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See mr/4</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L193" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="mr!/5">
    <span class="signature"><strong>mr!(map, reduce, out, more, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#mr!/5" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>See mr/5</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L194" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="name/1">
    <span class="signature"><strong>name(arg1)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#name/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Gets the collection name</p>
<pre><code>coll = mongo.connect.db(&quot;test&quot;).collection(&quot;anycoll&quot;)
&quot;anycoll&quot; = coll.name</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L50" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="new/2">
    <span class="signature"><strong>new(db, collname)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#new/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>New collection</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L42" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="opts/2">
    <span class="signature"><strong>opts(new_opts, c)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#opts/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Adds options to the collection overwriting database options</p>
<p>new_opts must be a keyword with zero or more pairs represeting one of these options:</p>
<ul>
<li>read: <code class="inline">:awaitdata</code>, <code class="inline">:nocursortimeout</code>, <code class="inline">:slaveok</code>, <code class="inline">:tailablecursor</code>
</li>
<li>write: concern: <code class="inline">:wc</code>
</li>
<li>socket: <code class="inline">:mode</code>, <code class="inline">:timeout</code>
</li>
</ul>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L259" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="read_opts/1">
    <span class="signature"><strong>read_opts(arg1)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#read_opts/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Gets read default options</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L266" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="update/5">
    <span class="signature"><strong>update(query, update, upsert \\ false, multi \\ false, collection)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#update/5" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Modifies an existing document or documents in the collection</p>
<pre><code>db = mongo.connect.db(&quot;test&quot;)
db.collection(&quot;anycoll&quot;).update(%{a: 456}, %{a: 123, b: 789})</code></pre>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L117" class="view_source">Source</a>
  
</div>
<div class="detail">
  <div class="detail_header" id="write_opts/1">
    <span class="signature"><strong>write_opts(arg1)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#write_opts/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <div class="docstring"><p>Gets write default options</p>
</div>
  
    <a href="https://github.com/checkiz/elixir-mongo/blob/0db789daf262b19534da8f670920c31679f09e84
/lib/mongo_collection.ex#L273" class="view_source">Source</a>
  
</div>

        </div>
      

      

      
    </div>
  </body>
</html>
